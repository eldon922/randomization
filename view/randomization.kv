#:kivy 2.0.0

<MainMenu>
    cols: 1
    size: root.width, root.height

    load_file_path: load_file_path
    save_file_path: save_file_path

    dimension_label: dimension_label
    epsilon_label: epsilon_label
    dimension_value: dimension_value
    epsilon_value: epsilon_value
    calculate_k_button: calculate_k_button

    technique_spinner: technique_spinner

    dataset_description_layout: dataset_description_layout
    randomization_result_description_layout: randomization_result_description_layout

    GridLayout:
        cols: 3
        size_hint: (root.width, 0.075)

        Image:
            source: 'view/assets/browse.jpg'
            size_hint: (0.1, root.height)
        Label:
            id: load_file_path
            text: "No file selected"
            size: self.texture_size
            text_size: self.size
            halign: 'left'
        Button:
            text: "Browse"
            size_hint: (0.2, root.height)
            on_release: root.browse_load_button_action()



    GridLayout:
        cols: 1
        size_hint: (root.width, 0.075)
        Spinner:
            id: technique_spinner
            size_hint: (root.width, root.height)
            text: 'Random Projection Perturbation'
            values: 'Random Projection Perturbation', 'Random Rotation Perturbation'
            on_text: root.on_technique_spinner_select(self.text)



    GridLayout:
        cols: 9
        size_hint: (root.width, 0.075)
        spacing: 15

        Image:
            source: 'view/assets/save.jpeg'
            size_hint: (0.1, root.height)
        Label:
            id: save_file_path
            text: "No folder selected"
            size: self.texture_size
            text_size: self.size
            halign: 'left'
        Button:
            text: "Browse"
            size_hint: (0.2, root.height)
            on_release: root.browse_save()
        Label:
            id: dimension_label
            size_hint: (0.2, root.height)
            text: "Dimension"
        TextInput:
            id: dimension_value
            size_hint: (0.1, root.height)
            input_filter: 'int'
        Label:
            id: epsilon_label
            size_hint: (0.15, root.height)
            text: "Epsilon"
        TextInput:
            id: epsilon_value
            size_hint: (0.1, root.height)
            input_filter: 'float'
            on_text:
        Button:
            id: calculate_k_button
            text: "Calculate K"
            size_hint: (0.25, root.height)
            on_release: root.calculate_k_button_action()
        Button:
            text: "Randomize and Save"
            size_hint: (0.4, root.height)
            on_release: root.randomize_button_action()



    BoxLayout:
        orientation: "horizontal"
        BoxLayout:
            orientation: "vertical"
            canvas.before:
                Color:
                    rgba: .5, .5, .5, 1
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height
            Label:
                text: "Dataset Description"
                size_hint: (1, 0.2)
                text_size: self.size
                halign: "center"
                valign: "top"
                padding: (20, 20)

            BoxLayout:
                id: dataset_description_layout
                orientation: "vertical"


        BoxLayout:
            orientation: "vertical"
            canvas.before:
                Color:
                    rgba: .5, .5, .5, 1
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height
            Label:
                text: "Randomization Result Description"
                size_hint: (1, 0.2)
                text_size: self.size
                halign: "center"
                valign: "top"
                padding: (20, 20)

            BoxLayout:
                id: randomization_result_description_layout
                orientation: "vertical"

<ErrorPopup>
    title: 'WARNING!'
    size_hint: (None, None)
    size: (500, 200)
    auto_dismiss: False

    text_label: text_label

    GridLayout:
        cols: 1
        Label:
            id: text_label
            text: "Please select dataset file first!"
        Button:
            size_hint: (root.width, 0.5)
            text: "Ok"
            on_release: root.dismiss()

<LoadingPopup>
    title: 'Random Projection Perturbation'
    size_hint: (None, None)
    size: (400, 200)
    auto_dismiss: False

    progress_bar: progress_bar
    progress_label: progress_label
    GridLayout:
        cols: 1
        Label:
            id: progress_label
            text: "0%"
        ProgressBar:
            id: progress_bar
            max: 100

<DescriptionLabel>
    size_hint: (1, 0.14)
    text_size: self.size
    halign: "left"
    valign: "top"
    padding: (20, 0)